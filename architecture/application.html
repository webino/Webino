<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Application Architecture &mdash; Webino 0.1.0alpha documentation</title>
    
    <link rel="stylesheet" href="../_static/better.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1.0alpha',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Webino 0.1.0alpha documentation" href="../index.html" />
    <link rel="next" title="Configuration Architecture" href="config.html" />
    <link rel="prev" title="Webino Skeleton Module" href="../basics/skeleton-module.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="../_static/common.css" type="text/css" />
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700&subset=latin,latin-ext" type="text/css" />
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Code+Pro:400,700&subset=latin,latin-ext" type="text/css" />
  </head>
  <body role="document">
  <div class="related top">
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="../basics/skeleton-module.html" title="Previous document">Webino Skeleton Module</a>
        </li>
        <li>
          <a href="config.html" title="Next document">Configuration Architecture</a>
          &rarr;
        </li>
    </ul>
  </nav>
  <nav id="breadcrumbs">
    <ul>
      <li><a href="../index.html">Webino 0.1.0alpha documentation</a></li> 
    </ul>
  </nav>
  </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="application-architecture">
<h1>Application Architecture<a class="headerlink" href="#application-architecture" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#core-lifecycle" id="id1">Core Lifecycle</a></li>
<li><a class="reference internal" href="#core-events" id="id2">Core Events</a></li>
<li><a class="reference internal" href="#object-class-diagram" id="id3">Object Class Diagram</a></li>
</ul>
</div>
<p>The Webino™ application architecture is based around the Zend Frameowrk 2 but simplified and enhanced.
It also brings some other useful open-source packages to make a web application devstack.</p>
<div class="section" id="core-lifecycle">
<h2><a class="toc-backref" href="#id1">Core Lifecycle</a><a class="headerlink" href="#core-lifecycle" title="Permalink to this headline">¶</a></h2>
<p>The application core lifecycle is very simple and straightforward. It just bootstrap the application
and then it dispatches. Anything that should be performed on a dispatch has to be in the listeners
attached to that event.</p>
<p>Because of two pass application bootstrap process, the core services and listeners are initialized first.
So they are ready before a first pass bootstrap event occurs. The remaining services and listeners are initialized
after the configure event, right before second pass bootstrap occurs. So only core listeners can listen to the
configure event.</p>
<img alt="../_images/WebinoAppLib.Flowchart_h400.png" class="centered" src="../_images/WebinoAppLib.Flowchart_h400.png" />
<p><strong>Explanation:</strong></p>
<p><strong>1)</strong> Creating new application object, loading a configuration and a debugger.</p>
<div class="highlight-php"><div class="highlight"><pre><span class="sd">/** @var \WebinoAppLib\Application\AbstractBaseApplication $appCore **/</span>
<span class="nv">$appCore</span> <span class="o">=</span> <span class="nx">Webino</span><span class="o">::</span><span class="na">application</span><span class="p">(</span><span class="nv">$config</span> <span class="o">=</span> <span class="k">null</span><span class="p">,</span> <span class="nv">$debugger</span> <span class="o">=</span> <span class="k">null</span><span class="p">);</span>
</pre></div>
</div>
<ul class="simple">
<li>There are two optional arguments, for a config and a debugger objects.<ul>
<li>If those arguments are not provided, the application factory tries to require them from
files <code class="docutils literal"><span class="pre">config/application.php</span></code> and <code class="docutils literal"><span class="pre">config/debugger.php</span></code> in your include path,
if that fails too, the factory creates default configuration and null debugger objects.</li>
</ul>
</li>
<li>Finally an application is created via service manager and registered into services too.</li>
</ul>
<p><strong>2)</strong> Initializing an application, all the services will be ready.</p>
<div class="highlight-php"><div class="highlight"><pre><span class="sd">/** @var \WebinoAppLib\Application\AbstractConfiguredApplication $app **/</span>
<span class="nv">$app</span> <span class="o">=</span> <span class="nv">$appCore</span><span class="o">-&gt;</span><span class="na">bootstrap</span><span class="p">();</span>
</pre></div>
</div>
<ul class="simple">
<li>Application config is allowed for modifications during initialization.</li>
<li>Calling <code class="docutils literal"><span class="pre">bootstrap()</span></code> method triggers the two pass application bootstrap event.<ul>
<li>First pass is handled by core listeners and it allows them to listen to the configure event and
to a second pass of the bootstrap.</li>
<li>Then application configuration event is triggered, but skipped if cached config is available.</li>
<li>Second pass of the bootstrap is handled by remaining listeners, allowing them to perform actions
before application is dispatched.</li>
</ul>
</li>
</ul>
<p><strong>3)</strong> Handling the client request and sending a response.</p>
<div class="highlight-php"><div class="highlight"><pre><span class="nv">$app</span><span class="o">-&gt;</span><span class="na">dispatch</span><span class="p">();</span>
</pre></div>
</div>
<ul class="simple">
<li>Calling <code class="docutils literal"><span class="pre">dispatch()</span></code> method just triggers a dispatch event. If there are not dispatch listeners,
nothing will happen.</li>
</ul>
</div>
<div class="section" id="core-events">
<h2><a class="toc-backref" href="#id2">Core Events</a><a class="headerlink" href="#core-events" title="Permalink to this headline">¶</a></h2>
<p>Events emitted during an application dispatch lifecycle.</p>
<dl class="docutils">
<dt><strong>bootstrap</strong> <em>(only for core listeners)</em></dt>
<dd><em>First pass, initializing core services and listeners.</em></dd>
<dt><strong>configure</strong> <em>(only for core listeners)</em></dt>
<dd><em>Configuring application, optional if cache is available.</em></dd>
<dt><strong>bootstrap</strong></dt>
<dd><em>Second pass, initializing remaining services and listeners.</em></dd>
<dt><strong>dispatch</strong></dt>
<dd><em>Responding to the client request.</em></dd>
</dl>
</div>
<div class="section" id="object-class-diagram">
<h2><a class="toc-backref" href="#id3">Object Class Diagram</a><a class="headerlink" href="#object-class-diagram" title="Permalink to this headline">¶</a></h2>
<p>The application is divided into two types, the basic type and the configured one. While all general application
methods are available throughout whole life cycle, the <code class="docutils literal"><span class="pre">bootstrap()</span></code> method can be called only on a basic type and
the <code class="docutils literal"><span class="pre">dispatch()</span></code> on a configured type.</p>
<img alt="../_images/WebinoAppLib.Application.ClassDiagram_w720.png" class="centered" src="../_images/WebinoAppLib.Application.ClassDiagram_w720.png" />
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/webino.png" alt="Logo"/>
            </a></p><menu>
    <h2>Getting Started</h2>
    <ul>
        <li>
            <a href="../index.html">Introduction</a>
        </li>
        <li>
            <a href="../demo-application.html">Demo Application [TODO]</a>
        </li>
        <li>
            <a href="../installation.html">Installation [TODO]</a>
        </li>
        <li>
            <a href="../available-modules.html">Available Modules [TODO]</a>
        </li>
    </ul>

    <h2>The Basics</h2>
    <ul>
        <li>
            <a href="../basics/basic-usage.html">Basic Usage</a>
        </li>
        <li>
            <a href="../basics/advanced-usage.html">Advanced Usage</a>
        </li>
        <li>
            <a href="../basics/skeleton-application.html">Skeleton Application [TODO]</a>
        </li>
        <li>
            <a href="../basics/skeleton-module.html">Skeleton Module [TODO]</a>
        </li>
        <li>
            <a href="../basics/application-config.html">Application Config [TODO]</a>
        </li>
        <li>
            <a href="../basics/module-config.html">Module Config [TODO]</a>
        </li>
        <li>
            <a href="../basics/request-responding.html">Request Responding [TODO]</a>
        </li>
        <li>
            <a href="../basics/command-line-interface.html">Command Line Interface [TODO]</a>
        </li>
    </ul>

    <h2>Architecture</h2>
    <ul>
        <li>
            <a href="#">Application</a>
        </li>
        <li>
            <a href="config.html">Configuration</a>
        </li>
        <li>
            <a href="services.html">Services</a>
        </li>
        <li>
            <a href="events.html">Event System</a>
        </li>
        <li>
            <a href="templates.html">Templates [TODO]</a>
        </li>
        <li>
            <a href="modules.html">Modules [TODO]</a>
        </li>
        <li>
            <a href="public-assets.html">Public Assets [TODO]</a>
        </li>
    </ul>

    <h2>User Guide</h2>
    <ul>
        <li>
            <a href="../guide/config.html">Config</a>
        </li>
        <li>
            <a href="../guide/services.html">Services</a>
        </li>
        <li>
            <a href="../guide/events.html">Events</a>
        </li>
        <li>
            <a href="../guide/debugging.html">Debugging</a>
        </li>
        <li>
            <a href="../guide/logging.html">Logging</a>
        </li>
        <li>
            <a href="../guide/caching.html">Caching [TODO]</a>
        </li>
        <li>
            <a href="../guide/filesystem.html">Filesystem</a>
        </li>
        <li>
            <a href="../guide/routing.html">Routing</a>
        </li>
        <li>
            <a href="../guide/requests.html">Requests [TODO]</a>
        </li>
        <li>
            <a href="../guide/responses.html">Responses [TODO]</a>
        </li>
        <li>
            <a href="../guide/sessions.html">Sessions [TODO]</a>
        </li>
        <li>
            <a href="../guide/mail.html">Mail [TODO]</a>
        </li>
        <li>
            <a href="../guide/data.html">Data [TODO]</a>
        </li>
        <li>
            <a href="../guide/templates.html">Templates [TODO]</a>
        </li>
        <li>
            <a href="../guide/assets.html">Assets [TODO]</a>
        </li>
        <li>
            <a href="../guide/localization.html">Localization [TODO]</a>
        </li>
        <li>
            <a href="../guide/console.html">Console [TODO]</a>
        </li>
    </ul>

    <h2>Delivery</h2>
    <ul>
        <li>
            <a href="../delivery/application-build.html">Application Build [TODO]</a>
        </li>
        <li>
            <a href="../delivery/continuous-integration.html">Continuous Integration [TODO]</a>
        </li>
        <li>
            <a href="../delivery/continuous-delivery.html">Continuous Delivery [TODO]</a>
        </li>
    </ul>

    <h2>Development</h2>
    <ul>
        <li>
            <a href="../development/api-docs.html">API Docs [TODO]</a>
        </li>
        <li>
            <a href="../development/roadmap.html">Roadmap [TODO]</a>
        </li>
        <li>
            <a href="../development/release-notes.html">Release Notes [TODO]</a>
        </li>
        <li>
            <a href="../development/upgrade-guide.html">Upgrade Guide [TODO]</a>
        </li>
        <li>
            <a href="../development/contribution-guide.html">Contribution guide [TODO]</a>
        </li>
    </ul>
</menu>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div class="related bottom">
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="../basics/skeleton-module.html" title="Previous document">Webino Skeleton Module</a>
        </li>
        <li>
          <a href="config.html" title="Next document">Configuration Architecture</a>
          &rarr;
        </li>
    </ul>
  </nav>
  <nav id="breadcrumbs">
    <ul>
      <li><a href="../index.html">Webino 0.1.0alpha documentation</a></li> 
    </ul>
  </nav>
  </div>
  <footer id="pagefooter">&copy; 2015, Webino, s. r. o. All rights reserved.

  </footer>

  
  </body>
</html>