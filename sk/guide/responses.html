<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Application Responses &mdash; Webino 0.1.0alpha dokumentácia</title>
    
    <link rel="stylesheet" href="../_static/better.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1.0alpha',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <link rel="top" title="Webino 0.1.0alpha dokumentácia" href="../index.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="../_static/common.css" type="text/css" />
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700&subset=latin,latin-ext" type="text/css" />
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Code+Pro:400,700&subset=latin,latin-ext" type="text/css" />
  </head>
  <body role="document">
  <div class="related top">
  <nav id="rellinks">
    <ul>
    </ul>
  </nav>
  <nav id="breadcrumbs">
    <ul>
      <li><a href="../index.html">Webino 0.1.0alpha dokumentácia</a></li> 
    </ul>
  </nav>
  </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="application-responses">
<h1>Application Responses<a class="headerlink" href="#application-responses" title="Trvalý odkaz na tento nadpis">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#response-interface" id="id3">Response Interface</a></li>
<li><a class="reference internal" href="#response-types" id="id4">Response Types</a></li>
<li><a class="reference internal" href="#redirecting" id="id5">Redirecting</a></li>
</ul>
</div>
<p>Web applications should return some kind of response to be sent back to the user. In most cases you should mainly deal
with the HTTP response by default. However, you can use other response types or create your own.</p>
<img alt="../_images/WebinoAppLib.Responses.Flowchart_h700.png" class="centered" src="../_images/WebinoAppLib.Responses.Flowchart_h700.png" />
<p><strong>Explanation:</strong></p>
<p><strong>1)</strong> Creating a response.</p>
<ul class="simple">
<li>The default response object is created at the beginning of application dispatch.</li>
<li>A different response could be set like following:</li>
</ul>
<div class="small-bottom-space highlight-php"><div class="highlight"><pre><span class="k">use</span> <span class="nx">WebinoAppLib\Event\AppEvent</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">WebinoAppLib\Event\DispatchEvent</span><span class="p">;</span>

<span class="nv">$app</span><span class="o">-&gt;</span><span class="na">bind</span><span class="p">(</span><span class="nx">AppEvent</span><span class="o">::</span><span class="na">DISPATCH</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="nx">DispatchEvent</span> <span class="nv">$event</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$event</span><span class="o">-&gt;</span><span class="na">setResponse</span><span class="p">(</span><span class="k">new</span> <span class="nx">MyResponse</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>
</div>
<p class="medium-top-space"><strong>2)</strong> Emitting a send response event.</p>
<ul class="simple">
<li>The send response event is emitted as soon as application dispatch finishes.</li>
<li>Bind to a send response event like following:</li>
</ul>
<div class="highlight-php"><div class="highlight"><pre><span class="k">use</span> <span class="nx">WebinoAppLib\Event\SendResponseEvent</span><span class="p">;</span>

<span class="nv">$app</span><span class="o">-&gt;</span><span class="na">bind</span><span class="p">(</span><span class="nx">SendResponseEvent</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="nx">SendResponseEvent</span> <span class="nv">$event</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// do something...</span>
<span class="p">});</span>
</pre></div>
</div>
<p class="medium-top-space"><strong>3)</strong> Handling a on response.</p>
<ul class="simple">
<li>The on response function is called on a response object if it is supported so.</li>
<li>Create custom response with on response handling support like following:</li>
</ul>
<div class="highlight-php"><div class="highlight"><pre><span class="k">use</span> <span class="nx">WebinoAppLib\Event\DispatchEvent</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">WebinoAppLib\Response\OnResponseInterface</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Zend\Stdlib\ResponseInterface</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">MyResponse</span> <span class="k">implements</span>
    <span class="nx">OnResponseInterface</span><span class="p">,</span>
    <span class="nx">ResponseInterface</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">onResponse</span><span class="p">(</span><span class="nx">DispatchEvent</span> <span class="nv">$event</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// do something...</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p class="medium-top-space"><strong>4.a)</strong> Sending a stream response.</p>
<ul class="simple">
<li>A stream response sender is used to send response of a stream type.</li>
</ul>
<div class="highlight-php"><div class="highlight"><pre><span class="k">use</span> <span class="nx">WebinoAppLib\Event\AppEvent</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">WebinoAppLib\Event\DispatchEvent</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">WebinoAppLib\Response\StreamResponse</span><span class="p">;</span>

<span class="nv">$app</span><span class="o">-&gt;</span><span class="na">bind</span><span class="p">(</span><span class="nx">AppEvent</span><span class="o">::</span><span class="na">DISPATCH</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="nx">DispatchEvent</span> <span class="nv">$event</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$event</span><span class="o">-&gt;</span><span class="na">setResponse</span><span class="p">(</span><span class="k">new</span> <span class="nx">StreamResponse</span><span class="p">(</span><span class="s1">&#39;my/folder/test.txt&#39;</span><span class="p">));</span>
<span class="p">});</span>
</pre></div>
</div>
<p class="medium-top-space"><strong>4.b)</strong> Sending a console response.</p>
<ul class="simple">
<li>A console response sender is used to send response of a console type and it&#8217;s created by default in the command line
environment.</li>
</ul>
<p class="medium-top-space"><strong>4.c)</strong> Sending an HTTP response.</p>
<ul class="simple">
<li>HTTP response sender is used to send response of an HTTP type and it&#8217;s created by default in the HTTP server
environment.</li>
</ul>
<div class="section" id="response-interface">
<h2><a class="toc-backref" href="#id3">Response Interface</a><a class="headerlink" href="#response-interface" title="Trvalý odkaz na tento nadpis">¶</a></h2>
<p>TODO...</p>
<p>set headers...
set cookies...</p>
</div>
<div class="section" id="response-types">
<h2><a class="toc-backref" href="#id4">Response Types</a><a class="headerlink" href="#response-types" title="Trvalý odkaz na tento nadpis">¶</a></h2>
<p>TODO...</p>
<p>text response...</p>
<p>xml response...</p>
<p>json response...</p>
<p>response stream...</p>
<p>file download...</p>
</div>
<div class="section" id="redirecting">
<h2><a class="toc-backref" href="#id5">Redirecting</a><a class="headerlink" href="#redirecting" title="Trvalý odkaz na tento nadpis">¶</a></h2>
<p>TODO...</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/webino.png" alt="Logo"/>
            </a></p><menu>
    <h2>Getting Started</h2>
    <ul>
        <li>
            <a href="../index.html">Introduction</a>
        </li>
        <li>
            <a href="../requirements.html">Introduction</a>
        </li>
        <li>
            <a href="../examples.html">Examples [TODO]</a>
        </li>
        <li>
            <a href="../installation.html">Installation [TODO]</a>
        </li>
        <li>
            <a href="../available-modules.html">Available Modules [TODO]</a>
        </li>
    </ul>

    <h2>The Basics</h2>
    <ul>
        <li>
            <a href="../basics/basic-usage.html">Basic Usage</a>
        </li>
        <li>
            <a href="../basics/application.html">Application Architecture</a>
        </li>
        <li>
            <a href="../basics/configuration.html">Configuration Basics</a>
        </li>
        <li>
            <a href="../basics/services.html">Services Architecture</a>
        </li>
        <li>
            <a href="../basics/events.html">Event System</a>
        </li>
        <li>
            <a href="../basics/application-context.html">Application Context</a>
        </li>
        <li>
            <a href="../basics/application-modules.html">Application Modules</a>
        </li>
        <li>
            <a href="../basics/skeleton-application.html">Skeleton Application [TODO]</a>
        </li>
        <li>
            <a href="../basics/templates.html">Templates [TODO]</a>
        </li>
        <li>
            <a href="../basics/public-assets.html">Public Assets [TODO]</a>
        </li>
        <li>
            <a href="../basics/command-line-interface.html">Command Line Interface</a>
        </li>
    </ul>

    <h2>User Guide</h2>
    <ul>
        <li>
            <a href="config.html">Config</a>
        </li>
        <li>
            <a href="services.html">Services</a>
        </li>
        <li>
            <a href="events.html">Events</a>
        </li>
        <li>
            <a href="debugging.html">Debugging</a>
        </li>
        <li>
            <a href="logging.html">Logging</a>
        </li>
        <li>
            <a href="caching.html">Caching [TODO]</a>
        </li>
        <li>
            <a href="filesystem.html">Filesystem</a>
        </li>
        <li>
            <a href="routing.html">Routing</a>
        </li>
        <li>
            <a href="requests.html">Requests [TODO]</a>
        </li>
        <li>
            <a href="#">Responses</a>
        </li>
        <li>
            <a href="sessions.html">Sessions [TODO]</a>
        </li>
        <li>
            <a href="database.html">Database [TODO]</a>
        </li>
        <li>
            <a href="mailer.html">Mailer</a>
        </li>
        <li>
            <a href="templates.html">Templates [TODO]</a>
        </li>
        <li>
            <a href="assets.html">Assets [TODO]</a>
        </li>
        <li>
            <a href="localization.html">Localization [TODO]</a>
        </li>
        <li>
            <a href="console.html">Console</a>
        </li>
        <li>
            <hr/>
        </li>
        <li>
            <a href="html-helpers.html">HTML helpers [TODO]</a>
        </li>
        <li>
            <a href="html-helpers.html">Document Object Model [TODO]</a>
        </li>
    </ul>

    <h2>Delivery</h2>
    <ul>
        <li>
            <a href="../delivery/application-build.html">Application Build [TODO]</a>
        </li>
        <li>
            <a href="../delivery/continuous-integration.html">Continuous Integration [TODO]</a>
        </li>
        <li>
            <a href="../delivery/continuous-delivery.html">Continuous Delivery [TODO]</a>
        </li>
    </ul>

    <h2>Development</h2>
    <ul>
        <li>
            <a href="../development/api-docs.html">API Docs [TODO]</a>
        </li>
        <li>
            <a href="../development/roadmap.html">Roadmap [TODO]</a>
        </li>
        <li>
            <a href="../development/release-notes.html">Release Notes [TODO]</a>
        </li>
        <li>
            <a href="../development/upgrade-guide.html">Upgrade Guide [TODO]</a>
        </li>
        <li>
            <a href="../development/contribution-guide.html">Contribution guide [TODO]</a>
        </li>
    </ul>
</menu>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div class="related bottom">
  <nav id="rellinks">
    <ul>
    </ul>
  </nav>
  <nav id="breadcrumbs">
    <ul>
      <li><a href="../index.html">Webino 0.1.0alpha dokumentácia</a></li> 
    </ul>
  </nav>
  </div>
  <footer id="pagefooter">&copy; 2015, Webino, s. r. o. All rights reserved.

  </footer>

  
  </body>
</html>